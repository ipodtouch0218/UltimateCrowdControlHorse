<!DOCTYPE html>
<html>
	<head>
		<title>Ultimate Crowd Control Horse</title>
		<link rel="stylesheet" href="/home.css" />
		<script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
	</head>
	<body>
		<div class="page-container">
			<div class="page-header">
				<h1>Ultimate Crowd Control Horse</h1>
			</div>
			<div class="page-content">
				<div id="pageJoinRoom" class="container">
					<label>Enter a Room ID to join:</label>
					<input id="roomIdField" pattern="[A-Z]" />
					<button id="roomIdSubmit">Submit</button>
				</div>

				<div id="pageConnecting" class="container hidden">
					<p>Connecting to room...</p>
				</div>

				<div id="pageInRoomWaiting" class="container hidden">
					You are currently in the room <p id="roomName"></p>!<br>
					Please wait for the game to start...
				</div>

				<div id="pageInGame" class="container hidden">
					Game in progress! Current objects on the map:
					<div id="wrapper" class="embed">
						<div id="placeables">
						</div>
					</div>
					<div id="itemSidepanel" class="sidepanel">
						<button id="sidepanelOpen" class="openbtn togglebutton" onclick="toggleItemPanel()">&#xAB;</button>
						<div class="content">
							<div class="header">
								<p id="coin-count">1000 &#x1FA99;</p>
							</div>
							<div class="items">
								<div id="itemTemplate" class="item hidden">
									<img src="/placeables/Block.png" />
									<button>10 &#x1FA99;</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script>
			const sidepanel = document.getElementById("itemSidepanel");
			let open = false;

			function toggleItemPanel() {
				if (open) {
					closeItemPanel();
				} else {
					openItemPanel();
				}
			}
			function openItemPanel() {
				sidepanel.style.transform = "translateX(0px)";
				document.getElementById("sidepanelOpen").innerHTML = "&#xBB;";
				open = true;
			}
			function closeItemPanel() {
				sidepanel.style.transform = "translateX(100%) translateX(-50px)";
				document.getElementById("sidepanelOpen").innerHTML = "&#xAB;";
				open = false;
			}
		</script>

		<script>instaJoinRoom="<%- locals.room %>"</script>
		<script src="/logic.js"></script>
	</body>
</html>